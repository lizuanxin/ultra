<div class="bread-layer">
    {{'items.commodity.title'|translate}}
    <ng-template [ngIf]="App.IsMinScreen">
        <div pull-right>
                <div class="d-inline-block">
                    <button class="btn btn-sm btn-outline-primary" type="button" (click)="OpenModal(template)">{{'items.commodity.button.add'|translate}}</button>
                </div>
                <div class="dropdown d-inline-block" ngbDropdown>
                    <button class="btn btn-sm btn-secondary dropdown-toggle" type="button" ngbDropdownToggle>
                        {{'items.commodity.button.categories'|translate}}
                    </button>
                    <div class="dropdown-menu">
                        <a class="dropdown-item">....</a>
                        <a class="dropdown-item">....</a>
                        <a class="dropdown-item">....</a>
                    </div>
                </div>
        </div>
    </ng-template>
</div>
<div class="container-layer">
    <div class="row">
        <div class="col-md-6">
            <ng-template [ngIf]="!App.IsMinScreen">
                <div class="d-inline-block">
                    <button class="btn btn-sm btn-outline-primary" type="button" (click)="OpenModal(template)">{{'items.commodity.button.add'|translate}}</button>
                </div>
                <div class="dropdown d-inline-block" ngbDropdown>
                    <button class="btn btn-sm btn-secondary dropdown-toggle" type="button" ngbDropdownToggle>
                        {{'items.commodity.button.categories'|translate}}
                    </button>
                    <div class="dropdown-menu">
                        <a class="dropdown-item">....</a>
                        <a class="dropdown-item">....</a>
                        <a class="dropdown-item">....</a>
                    </div>
                </div>
            </ng-template>
        </div>
        <div class="col-md-6" text-right>
            批量操作：
            <div class="d-inline-block">
                <button class="btn btn-sm btn-outline-primary" type="button" [disabled]="SelectId.length == 0">{{'items.commodity.button.up'|translate}}</button>
                <button class="btn btn-sm btn-outline-primary" type="button" [disabled]="SelectId.length == 0">{{'items.commodity.button.down'|translate}}</button>
                <button class="btn btn-sm btn-outline-danger" type="button" (click)="Remove()" [disabled]="SelectId.length == 0">{{'items.commodity.button.del'|translate}}</button>
                <button class="btn btn-sm btn-primary" type="button" [disabled]="SelectId.length < 2" (click)="Open(PublishModal)">{{'items.commodity.button.package'|translate}}</button>
            </div>
        </div>
    </div>
    <div class="table-responsive" margin-vertical>
            <table class="table table-bordered table-hover">
                    <thead>
                      <tr>
                        <th width="2%"><input type="checkbox" [(ngModel)]="SelectAll" (ngModelChange)="ToggleSelectAll()"></th>
                        <th width="6%">{{'items.commodity.field.pro_thums'|translate}}</th>
                        <th width="12%">{{'items.commodity.field.number'|translate}}</th>
                        <th width="15%">{{'items.commodity.field.name'|translate}}</th>
                        <th></th>
                        <th width="6%" text-center>{{'items.commodity.field.in_stock'|translate}}</th>
                        <th width="10%" text-center>{{'items.commodity.field.total_sales'|translate}}</th>
                        <th width="12%" text-center>{{'items.commodity.field.release_time'|translate}}</th>
                        <th width="12%">{{'items.commodity.field.description'|translate}}</th>
                        <th text-center>{{'items.commodity.field.status'|translate}}</th>
                      </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of List" (click)="OpenModal(template,item)" >
                            <td text-center (click)="$event.stopPropagation()">
                                <input type="checkbox" [(ngModel)]="item.selected" (ngModelChange)="ToggleSelectId(item)">
                            </td>
                            <td>
                                <img width=60 src="assets/images/portfolio-1.jpg">
                            </td>
                            <td>{{item.RefCode}}</td>
                            <td>{{item.Name}}</td>
                            <td text-right>
                                <b text-danger m-r-10>￥699.0</b>
                            </td>
                            <td text-center>100</td>
                            <td></td>
                            <td text-center text-nowrap>2017-09-11<br/>
                                    19:15</td>
                            <td>100</td>
                            <td text-center><button (click)="Remove(item);$event.stopPropagation()">{{'items.commodity.button.del'|translate}}</button></td>
                        </tr>
                    </tbody>
                  </table>

    </div>
</div>

<ng-template #template let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title pull-left">{{ModalTitle}}</h4>
        <button type="button" class="close" aria-label="Close" (click)="d()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
            <ngb-tabset>
                <ngb-tab title="{{'items.commodity.field.info'|translate}}">
                    <ng-template ngbTabContent>
                            <div class="row justify-content-md-center" align-items-center  m-t-30>
                                <label text-gray-light text-nowrap text-right class="col-md-2">{{'items.commodity.field.name'|translate}}：</label>
                                <div class="col-md-3"><input type="text" class="form-control" [(ngModel)]="CurProduct.Name"></div>
                                <label text-gray-light text-nowrap text-right class="col-md-2">{{'items.commodity.field.snap'|translate}}：</label>
                                <div class="col-md-3"><input type="text" class="form-control"></div>
                            </div>
                            <!-- <div class="row" align-items-center m-t-15>
                                <label text-gray-light text-nowrap text-right class="col-md-2">{{'items.commodity.field.number'|translate}}：</label>
                                <div class="col-md-3"><input type="text" class="form-control" [(ngModel)]="CurProduct.RefCode" placeholder=""></div>
                            </div> -->
                            <div class="row justify-content-md-center" align-items-center m-t-15>
                                <label text-gray-light text-nowrap text-right class="col-md-2" for="member-name">{{'produce.public.pro_img'|translate}}：</label>
                                <div class="col-md-8">
                                    <button type="button" class="btn btn-lg btn-link btn-file">
                                        <label for="fileupload"><i icon f-50>&#xf100;</i></label>
                                        <input type="file" id="fileupload" (change)="flist=$event.target.files">
                                    </button>
                                </div>
                            </div>
                            <div class="row justify-content-md-center" align-items-center>
                                <label text-gray-light text-nowrap text-right class="col-md-2" for="member-name">其它：</label>
                                <div class="col-md-8">
                                    <button type="button" class="btn btn-lg btn-link btn-file">
                                        <label for="fileupload"><i icon f-50>&#xf100;</i></label>
                                        <input type="file" id="fileupload" (change)="flist=$event.target.files">
                                    </button>
                                </div>
                            </div>
                    </ng-template>
                </ngb-tab>
                <ngb-tab title="{{'produce.public.commodity_attributes'|translate}}">
                    <ng-template ngbTabContent>
                    </ng-template>
                </ngb-tab>
                <ngb-tab title="{{'produce.public.related_goods'|translate}}">
                    <ng-template ngbTabContent>

                    </ng-template>
                </ngb-tab>
            </ngb-tabset>
    </div>
    <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="d()" >{{'button.close'|translate}}</button>
            <button type="button" class="btn btn-primary" (click)="c()" >{{'button.confirm'|translate}}</button>
    </div>
</ng-template>


